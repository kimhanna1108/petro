var formId, resultSavings = [], cuurencySymbol = "$", productImages = [], formSubmitted = !1, formFocused = !1, redirectToLast = !1; !function (e) { function a() { e(".text-vertical-align").each((function () { var a = "", t = e(this).find(".text-component").height(); a = window.matchMedia("(max-width: 767px)").matches ? t <= 33 ? 70 : t > 33 && t <= 48 ? 60 : t > 48 && t <= 72 ? 50 : t > 72 && t <= 100 ? 30 : 25 : t <= 35 ? 60 : t > 36 && t <= 56 ? 55 : t > 56 && t <= 78 ? 50 : t > 78 && t <= 98 ? 40 : 25, e(this).find(".text-component").css("padding-top", a) })) } e(document).ready((function () { const t = e(".footer-info-nav .optanon-toggle-display"); t.css("cursor", "pointer"), t.removeAttr("href"); var n, r = new RegExp(location.host); e("a").each((function () { "" == e(this).attr("href") || "#" == e(this).attr("href") || r.test(e(this).get(0).href) || e(this).attr("target", "_blank") })), e(".productcategory").hide(), e(".industry").hide(), e(".volume").hide(), e(".volume").parents(".pclform-item").hide(), e(".units").hide(), e(".state").hide(), e("#state").prop("required", !1), e("#state").removeAttr("aria-required"), e("#state").removeAttr("aria-invalid"), e("#state-error").hide(), e("input#firstname").attr({ maxLength: 40 }), e("input#lastname").attr({ maxLength: 80 }), e("input#company").attr({ maxLength: 255 }), e("input#country").attr({ maxLength: 80 }), e("input#state").attr({ maxLength: 80 }), e("input#city").attr({ maxLength: 40 }), e("input#businessemail").attr({ maxLength: 80 }), e("input#businessphone").attr({ maxLength: 40 }), e("#comments").attr({ maxLength: 32e3 }), e("input#volume").attr({ maxLength: 18 }), e("input#businesspphoneext").attr({ maxLength: 10 }), e("#code").prop("readonly", true), e(".inquiry").change((function () { e("#productcategory").val(e("#productcategory option:first").val()), e("#industry").val(e("#industry option:first").val()), e("#volume").val(e("#volume option:first").val()), e("#units").val(e("#units option:first").val()); var a = e(".inquiry :selected").val().toLowerCase(); "customer service" === a || "media" === a || "tech services" === a ? (e(".productcategory").hide(), e(".industry").hide(), e(".volume").hide(), e(".volume").parents(".pclform-item").hide(), e(".units").hide()) : "become a distributor" === a ? (e(".productcategory").show(), e(".industry").show(), e(".volume").hide(), e(".volume").parents(".pclform-item").hide(), e(".units").hide()) : "current customer" === a ? (e(".productcategory").hide(), e(".industry").show(), e(".volume").hide(), e(".volume").parents(".pclform-item").hide(), e(".units").hide()) : "get a quote" === a || "question about products" === a ? (e(".productcategory").show(), e(".industry").show(), e(".volume").show(), e(".volume").parents(".pclform-item").show(), e(".units").show()) : (e(".productcategory").hide(), e(".industry").hide(), e(".volume").hide(), e(".volume").parents(".pclform-item").hide(), e(".units").hide()) })), e("#country").change((function () { var a = e("#country option:selected").data("countrycode"); "" !== a && (a = "+" + e("#country option:selected").data("countrycode")), e("#code").val(a); var t, n = e("#country option:selected").data("countryitemname"); null != n ? (e("#state").prop("required", !1), e("#state").removeAttr("aria-required"), e("#state").removeAttr("aria-invalid"), e("#state-error").hide(), t = n, e("#state").find("option").remove().end().append("<option value>" + e("#state-field-placeholder").val() + "</option >"), e.ajax({ type: "GET", dataType: "json", data: { countryName: t }, url: "/sitecoreapi/forms/GetSelectedStates", success: function (a) { if (a.length > 0) { var t = e("#state"); if (e("#state option").length < 2) for (var n = 0; n < a.length; n++)t.append(e("<option>", { value: a[n].Value, text: a[n].Text }, "</option>")); e("#state").prop("required", !0), e(".state").show() } else e(".state").hide() } })) : e(".state").hide() })), e(".thank-you-cont.get-in-touch").parents(".lube-col1").css("display", "none"), e("#news-form").length > 0 && (e(".news-form-panel__ctrl").unwrap(), e("#news-form .news-form-wrapper").css("display", "block"), e("#news-form .success-panel-wrapper").css("display", "none")); var o, i, l, u, s, c = decodeURIComponent(oe("referrerurl")); if (e("input#hidden-referrer-url").attr("value", ""), c && "false" != c && e("input#hidden-referrer-url").attr("value", c), "" != e("form#get-in-touch input#hidden-referrer-url").val() && e("form#get-in-touch #message").val(e("#get-in-touch input#hidden-referrer-url").val()), e.validator.methods.email = function (e, a) { return this.optional(a) || /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e) }, e.validator.addMethod("countrycoderegex", (function (e, a, t) { return t.test(e) }), q), e.validator.addMethod("blanknameregex", (function (e, a) { return this.optional(a) || /.*\S.*/.test(e) })), e.validator.addMethod("numberregex", (function (e, a) { return this.optional(a) || /^(\+?( |-|\.)?\d{1,2}( |-|\.)?)?((\(\d{3}\))|(\d{3}))( |-|\.)?(\d{3}( |-|\.)?\d{4})$/.test(e) })), e.validator.addMethod("numbercharregex", (function (e, a) { return this.optional(a) || /^[0-9.,\s]+$/.test(e) })), e.validator.addMethod("phonenumberregex", (function (e, a) { return this.optional(a) || /^[0-9]+$/.test(e) })), e(".news-form-panel__wrapper").length > 0) { var d, h = e(".news-form-panel__wrapper #email"); null != h && (d = h.data("val-required")), e(".news-form-panel__wrapper").validate({ messages: { businessemail: d }, errorPlacement: function (a, t) { a.length && e("label.error").remove(), a.insertAfter(t.parent()) }, submitHandler: function () { var a = e(".news-form-panel__wrapper input#email").val(), t = encodeURIComponent(window.location.href); z("/sitecoreapi/forms/SubscriptionSignUp", { BusinessEmail: a, From: t }, "subscriptionSignUpSuccess", "#news-form") } }) } if (e("#get-in-touch").length > 0) { var m, v, p, g = e("#hidden-countrycode").val(); e("#get-in-touch input#countrycode").val(g); var f = e(".form-getInTouch #firstname"), y = e(".form-getInTouch #lastname"), k = e(".form-getInTouch #company"), w = e(".form-getInTouch #city"), b = e(".form-getInTouch #state"), x = e(".form-getInTouch #country"), C = e(".form-getInTouch #businessemail"), S = e(".form-getInTouch #inquiry"), T = e(".form-getInTouch #businessphone"), L = e(".form-getInTouch #industry"), I = e(".form-getInTouch #volume"), R = e(".form-getInTouch #businessphoneext"); null != f && (A = f.data("val-required")), null != y && (O = y.data("val-required")), null != k && (E = k.data("val-required")), null != w && (N = w.data("val-required")), null != b && (U = b.data("val-required")), null != x && (G = x.data("val-required")), null != C && (M = C.data("val-required")), null != S && (m = S.data("val-required")), null != L && (P = e(L).data("val-required")), null != I && (p = e(I).data("val-required")), q = e(T).data("val-required"), v = e(R).data("val-required"), e("#get-in-touch").validate({ messages: { firstname: { required: A, blanknameregex: A }, lastname: { required: O, blanknameregex: O }, company: { required: E, blanknameregex: E }, city: { required: N, blanknameregex: N }, state: U, country: G, businessemail: M, inquiry: m, industry: P, volume: { required: p, blanknameregex: p, numbercharregex: p }, businessphone: { phonenumberregex: q, minlength: q, maxlength: q }, businessphoneext: { phonenumberregex: v, minlength: q, maxlength: q } }, groups: { businessphoneerror: "countrycode phonenumber phoneext" }, rules: { phonenumber: { required: !0, numberregex: !0, blanknameregex: !0, phonenumberregex: !0 }, firstname: { required: !0, blanknameregex: !0 }, lastname: { required: !0, blanknameregex: !0 }, company: { required: !0, blanknameregex: !0 }, city: { required: !0, blanknameregex: !0 }, volume: { required: !0, blanknameregex: !0, numbercharregex: !0 }, industry: { required: !0, blanknameregex: !0 }, businessphone: { phonenumberregex: !0, minlength: 0, maxlength: 20 }, businessphoneext: { phonenumberregex: !0, minlength: 0, maxlength: 20 } }, submitHandler: function () { var a, t, n, r, o; e("html")[0].lang.toLowerCase(); e("#get-in-touch button").attr("disabled", "disabled"); var i = e("#get-in-touch input#firstname").val(), l = e("#get-in-touch input#lastname").val(), u = e("#get-in-touch input#company").val(); "Select a country" != e("#country option:selected").text() && (a = encodeURIComponent(e("#country option:selected").val())); var s = e("#state option:selected").val(); s = null != s && "none" != s ? encodeURIComponent(s) : ""; var c = e("#get-in-touch input#city").val(), d = e("#get-in-touch input#businessemail").val(), h = e("#get-in-touch input#businessphone").val(), m = e("#get-in-touch input#businessphoneext").val(), v = e("#get-in-touch #comments").val(); "Select a product category" != e("#productcategory option:selected").text() && (r = e("#productcategory option:selected").val()); "Select an inquiry type" != e("#inquiry option:selected").text() && (n = e("#inquiry option:selected").val()); "Select an Industry" != e("#industry option:selected").text() && (t = encodeURIComponent(e("#industry option:selected").val())); var p = e("#get-in-touch input#volume").val(); "Select a unit type" != e("#units option:selected").text() && (o = e("#units option:selected").val()); var g, f = e("#EmailConsent").is(":checked"), y = e("#get-in-touch input#form-itemid").val(), k = e("#hidden-context-language").val(), w = e("#hidden-country-name").val(); k.startsWith("en-") ? g = "English" : k.startsWith("fr-") ? g = "French" : k.startsWith("es-") ? g = "Espanol" : k.startsWith("de-") ? g = "Deutsche" : k.startsWith("zh-") ? g = "Chinese" : k.startsWith("ru-") && (g = "Russian"); f = f ? "Express" : ""; z("/sitecoreapi/forms/GetInTouch", { FirstName: i, LastName: l, Company: u, Country: a, State: s, City: c, BusinessEmail: d, BusinessPhone: h, BusinessPhoneExt: m, Comments: v, ProductCategory: r, Inquiry: n, Industry: t, Volume: p, Units: o, EmailConsent: f, FormItemId: y, ContextLanguage: k, FormLanguage: g, ContextCountry: w }, "GetInTouchSuccess", ".thank-you-cont.get-in-touch") } }), i = "form#get-in-touch", l = ".thank-you-cont.get-in-touch", u = ".thank-you-cont", null != Z(o = "GetInTouchSuccess") ? "true" == Z(o) ? (e(i).hide(), e(".contact-form-cont").find("h3").hide(), e(".pclform-text").hide(), K(o, "false"), e(l).parents(".row.lube-col1").show(), formSubmitted = !0) : "false" == Z(o) ? (e(u).parents(".row.lube-col1").hide(), e(l).parents(".row.lube-col1").hide(), e(".contact-form-cont").find("h3").show(), e(i).show(), K(o, "false")) : "error" == Z(o) && (e(u).parents(".row.lube-col1").show(), e(l).parents(".row.lube-col1").hide(), e(".contact-form-cont").find("h3").hide(), e(i).hide(), K(o, "false")) : (e(i).parents(".contact-form-cont").find("h3").show(), e(i).show()) } if (e("#take-duron-challenge").length > 0) { var A, O, E, M, q, P, N, G, U, D, B; g = e("#hidden-countrycode").val(); e("#get-in-touch input#countrycode").val(g); f = e(".form-takeDuronChallenge #firstname"), y = e(".form-takeDuronChallenge #lastname"), k = e(".form-takeDuronChallenge #company"), w = e(".form-takeDuronChallenge #city"), b = e(".form-takeDuronChallenge #state"), x = e(".form-takeDuronChallenge #country"); var F = e(".form-takeDuronChallenge #howmanyvehiclesareinyourfleet"), _ = e(".form-takeDuronChallenge #quantity"), j = e(".form-takeDuronChallenge #estimatedsamplefrequency"); C = e(".form-takeDuronChallenge #businessemail"), T = e(".form-takeDuronChallenge #businessphone"), e(".form-takeDuronChallenge #wouldbecontacted"); null != f && (A = f.data("val-required")), null != y && (O = y.data("val-required")), null != k && (E = k.data("val-required")), null != w && (N = w.data("val-required")), null != x && (G = x.data("val-required")), null != b && (U = b.data("val-required")), null != F && (D = F.data("val-required")), null != _ && (B = _.data("val-required")), null != j && (j = j.data("val-required")), null != C && (M = C.data("val-required")), null != T && (q = T.data("val-required")), e("#take-duron-challenge").validate({ messages: { firstname: A, lastname: O, company: E, city: { required: N, blanknameregex: N }, country: G, step1_vehiclescountinfleet: D, step1_yearlyoilusage: B, step1_oilsampling: undefined, businessemail: M, countrycode: { required: q }, businessphone: { required: q, blanknameregex: q, phonenumberregex: q } }, groups: { businessphoneerror: "countrycode phonenumber phoneext" }, rules: { countrycode: { required: !0, countrycoderegex: /^\+?\d+$/, minlength: 1, maxlength: 3 }, phonenumber: { required: !0, numberregex: !0, blanknameregex: !0, phonenumberregex: !0 }, city: { required: !0, blanknameregex: !0 }, howmanyvehiclesareinyourfleet: { required: !0, blanknameregex: !0 }, quantity: { required: !0, blanknameregex: !0 }, estimatedsamplefrequency: { required: !0, blanknameregex: !0 }, businessphone: { phonenumberregex: !0 } }, submitHandler: function (a) { var t, n, r, o; formId = "take-duron-challenge", e("#take-duron-challenge button").attr("disabled", "disabled"); var i = e("#take-duron-challenge input#firstname").val(), l = e("#take-duron-challenge input#lastname").val(), u = encodeURIComponent(e("#take-duron-challenge input#company").val()), s = encodeURIComponent(e("#take-duron-challenge input#city").val()); "Select a country" != e("#country option:selected").text() && (t = encodeURIComponent(e("#country option:selected").val())); var c = encodeURIComponent(e("#state option:selected").val()); null != c && "none" != c || (c = ""); var d = e("#take-duron-challenge input#businessemail").val(), h = e("#take-duron-challenge input#businessphone").val(), m = e("#take-duron-challenge input#to-addr").val(), v = e("#take-duron-challenge input#from-addr").val(), p = e("#take-duron-challenge input#cc-addr").val(), g = e("#take-duron-challenge input#subject-addr").val(), f = e("#take-duron-challenge input#smtp-setting").val(), y = e("#take-duron-challenge input#form-itemid").val(); "Please select the number of vehicles" != e("#howmanyvehiclesareinyourfleet option:selected").val() && (n = encodeURIComponent(e("#howmanyvehiclesareinyourfleet option:selected").val())), "Please select yearly volume of oil usage" != e("#quantity option:selected").val() && (r = encodeURIComponent(e("#quantity option:selected").val())), "Please select oil sampling option" != e("#estimatedsamplefrequency option:selected").val() && (o = encodeURIComponent(e("#estimatedsamplefrequency option:selected").val())); var k = e("#WouldBeContacted").is(":checked"), w = e("#hidden-country-name").val(); k && (k = "Express"); var b, x = e("#hidden-context-language").val(); w = e("#hidden-country-name").val(); if (x.startsWith("en-") ? b = "English" : x.startsWith("fr-") ? b = "French" : x.startsWith("es-") ? b = "Espanol" : x.startsWith("de-") ? b = "Deutsche" : x.startsWith("zh-") ? b = "Chinese" : x.startsWith("ru-") && (b = "Russian"), k) var C = { FirstName: i, LastName: l, Company: u, City: s, Country: t, State: c, BusinessEmail: d, BusinessPhone: h, Howmanyvehiclesareinyourfleet: n, Quantity: r, EstimatedSampleFrequency: o, WouldBeContacted: k, From: v, To: m, CC: p, Subject: g, SMTPSettings: f, FormItemId: y, ContextLanguage: x, FormLanguage: b, ContextCountry: w }; else C = { FirstName: i, LastName: l, Company: u, City: s, Country: t, State: c, BusinessEmail: d, BusinessPhone: h, Howmanyvehiclesareinyourfleet: n, Quantity: r, EstimatedSampleFrequency: o, From: v, To: m, CC: p, Subject: g, SMTPSettings: f, FormItemId: y, ContextLanguage: x, FormLanguage: b, ContextCountry: w }; z("/sitecoreapi/forms/TakeDuronChallenge", C, "TakeDuronChallengeSuccess", null) } }) } function z(a, t, n, r) { e(".pclform-text").hide(); var o = !1; e.ajax({ url: a, data: t, type: "POST", async: !1, success: function (e) { "True" != e ? "False" == e && -1 == a.indexOf("SubscriptionSignUp") && K(n, "error") : o = !0 }, error: function (e) { } }), o && -1 == a.indexOf("SubscriptionSignUp") && K(n, "true"), o && "take-duron-challenge" === formId ? window.location = window.location.origin + duronThanksPageURL : o && -1 != a.indexOf("SubscriptionSignUp") ? (e("#news-form .news-form-wrapper").css("display", "none"), e("#news-form .success-panel-wrapper").css("display", "block")) : window.location = window.location.href } if (e("#btnPreviousStep1").click((function () { window.location = window.location.origin + duronLandingPage, event.preventDefault() })), e("#btnPreviousStep2").click((function () { window.location.hash = "step1", e("#step2").css("display", "none"), e("#step1").css("display", "block"), event.preventDefault() })), e(".contact-tab-cont").length > 0) { e(".form-title").wrap("<div class='page-header'></div>"), e(".form-validation-summary").hide(); e("#getInTouch").find("form").attr("id"); var H = e(".text-box.single-line:hidden").filter('[value="HiddenCountry"]'); H.val(e.trim(e("#countryName").text())), H.closest(".form-group").hide(), e("input[value=HiddenCountry]").val(e.trim(e("#countryName").text())), e("input[value=HiddenLanguage]").val(e("html").attr("lang")), e(".validation-summary-valid").length > 0 && e(".validation-summary-valid").parent().hide(), e("#myTabContent form").attr("action", window.location.href), null != (s = e.parseJSON(Z("getInTouchFormData"))) && ("" != e("#get-in-touch input#firstname").val() && (s.firstname = e("#get-in-touch input#firstname").val()), e("#get-in-touch input#firstname").val(s.firstname), "" != e("#get-in-touch input#lastname").val() && (s.lastname = e("#get-in-touch input#lastname").val()), e("#get-in-touch input#lastname").val(s.lastname), "" != e("#get-in-touch input#businessemail").val() && (s.email = e("#get-in-touch input#businessemail").val()), e("#get-in-touch input#businessemail").val(s.email), e("#get-in-touch input#company").val(s.companyName), e("#get-in-touch input#countrycode").val(s.countryCode), e("#get-in-touch input#phonenumber").val(s.phonenumber), null != s.industry && e("form#get-in-touch select#industry option[value='" + s.industry + "']").prop("selected", !0)), -1 != OnetrustActiveGroups.indexOf("C0003") && e(window).unload((function () { var a = { firstname: e("#get-in-touch input#firstname").val(), lastname: e("#get-in-touch input#lastname").val(), email: e("#get-in-touch input#businessemail").val(), companyName: e("#get-in-touch input#company").val(), countryCode: e("#get-in-touch input#countrycode").val(), phonenumber: e("#get-in-touch input#phonenumber").val(), industry: e("form#get-in-touch select#industry option:selected").text() }; K("getInTouchFormData", JSON.stringify(a)) })), e(document).on("click", ".js-tabcollapse-panel-heading", (function (a) { if ("none" == e("#myTabContent").css("display") && !e(this).hasClass("collapsed")) { var t = e(this).attr("id"), n = "getInTouchTab" == t ? 25 : "askExpertTab" == t ? 82 : "requestQuoteTab" == t ? 139 : 196; e("html,body").animate({ scrollTop: e(".contact-us-field-cont").offset().top + n }, "slow") } })) } function K(e, a, t) { if (t) { var n = new Date; n.setTime(n.getTime() + 24 * t * 60 * 60 * 1e3); var r = "; expires=" + n.toGMTString() } else r = ""; document.cookie = e + "=" + encodeURIComponent(a) + r + "; path=/" } function Z(e) { for (var a = e + "=", t = document.cookie.split(";"), n = 0; n < t.length; n++) { for (var r = decodeURIComponent(t[n]); " " == r.charAt(0);)r = r.substring(1, r.length); if (0 == r.indexOf(a)) return r.substring(a.length, r.length) } return null } function V(e) { return null != e ? e.toLowerCase() : e } e("#no-searchresults").hide(); var $ = Z("SiteLanguage"), W = "en-CA"; $ && (W = $); var J = e("html").attr("lang"); J || (J = "en-ca"), null == $ && window.location.href.indexOf("/product-selector") < 0 && e.ajax({ url: "/" + J + "/sitecoreapi/lubes/LanguagePopUp", datatype: "json", type: "GET", success: function (a) { if (e("body").append(a), e("#languageModal .select-language a").each((function () { var a = e(this).attr("href"); a.indexOf("?") > 0 && (a = a.substring(0, a.indexOf("?")), e(this).attr("href", a)) })), e("#geo_ip_language").val() && e("#country").val()) { redirectToLast = !0, W = e("#geo_ip_language").val(), K("CountryName", se = e("#country").val(), 365), K("GeoCountry", se, 365), "" == e("#countryName").text() && e("#countryName").text(se); var t = se.replace(" ", "_") + W, n = se; K("RegionName", e("#" + t).data("region-name"), 365), K("RegionTitle", e("#" + t).data("region-title"), 365); var r = ""; n = n.replace(" ", "_"), e("a", "#" + n).each((function (a) { r = r + e.trim(e(this).text()) + "|" + e(this).data("language") + "," })), K("LanguageList", r, 365), K("SelectedRegionalLang", e("#" + t).data("language"), 365), UpdateLanguageSwitcher(), e("#languageModal").modal("show") } }, error: function () { console.log("error") } }), K("SiteLanguage", W, 365), W = Z("SiteLanguage"); var Y = e(".country-rightsidebar").find('a[data-language="' + V(W) + '"]'), Q = e(Y[0]).attr("data-region-name"); e(Y[0]).addClass("select-lan"), e(Y[0]).parents(".country-block").addClass("selected"), e(".country-tabs").find("[data-region='" + Q + "']").addClass("active"), e("#countryName").on("click", (function () { var a = Z("RegionTitle"); null != a || null != a ? e(".lubeTab.countryTab").find("[data-region='" + a + "']").trigger("click") : e(".lubeTab.countryTab").find("[data-region='asia']").trigger("click") })), e(".common-decision").wrapAll('<div class="decision-content-cont"><div class="row decision-tree-common">'), e(".decision-content-cont").insertAfter(".decision-tree-main-btn"), e(".share-icon-fb").on("click touchstart", (function (e) { if (e.stopPropagation(), e.preventDefault(), !0 === e.handled) return !1; share_fb(), e.handled = !0 })), e(".share-icon-tw").on("click touchstart", (function (e) { if (e.stopPropagation(), e.preventDefault(), !0 === e.handled) return !1; share_tw(), e.handled = !0 })), e(".share-icon-gp").on("click touchstart", (function (e) { if (e.stopPropagation(), e.preventDefault(), !0 === e.handled) return !1; share_gp(), e.handled = !0 })), e.getJSON("../../../petro/common/searchautocompleter.json", (function (a) { e("#header-search").typeahead({ source: a, maxItem: 6, minLength: 3, hint: !0 }), e("#desktop-header-search").typeahead({ source: a, maxItem: 6, minLength: 3, hint: !0 }), e("#SearchText").typeahead({ source: a, maxItem: 6, minLength: 3, hint: !0 }), e("#SearchTerm").typeahead({ source: a, maxItem: 6, minLength: 3, hint: !0 }) }), (function (e) { console.log("search autocomplete error") })); e("input[type=checkbox]", "#filters").on("click", (function (a) { e("input[type=checkbox]", "#filters").not(e(this)).prop("checked", !1) })), e("#SearchText").keydown((function (e) { if (13 == e.keyCode) return ResourceSearch(), !1 })), ResourceSearch = function (t, n, r) { var o = e("#PageSize option:selected").attr("value"); "10" == o ? e("#bstb-PageSize").find("span:first-child").addClass("small-right-margin") : e("#bstb-PageSize").find("span:first-child").removeClass("small-right-margin"), SearchTextvalue = e("#SearchText").val(); var i = /<(?!\s*\/?\s*sup|\s*\/?\s*sub\b)[^>]*>/gi; SearchTextvalue.match(i) && (SearchTextvalue = ""); var l = "/SitecoreApi/lubes/ResourceCenterSearch?keyTerm=" + SearchTextvalue; n && r && (l += "&itemtype=" + n + "&itemId=" + r); var u = [], s = []; e("input[type=checkbox]:checked", "#filters").each((function (a) { "All" == e(this).val() ? (filter_text = "", e("input[type=checkbox]", "#filters").not("#All").each((function (a) { filter_text += e(this).val() + "," })), u[a] = filter_text.substring(0, filter_text.length - 1)) : u[a] = e(this).val(), e(this).attr("name").indexOf("&") > -1 ? s[a] = e(this).attr("name").replace("&", "%26") : s[a] = e(this).attr("name") })), o && (l += "&PageSize=" + o), t && (l += "&Page=" + t), u && u.length >= 1 && (l += "&filters=" + u); var c = window.location.pathname, d = window.location.pathname.split("/"), h = d[d.length - 1]; if (e("#filters") && e("#filters")[0] && e("#filters")[0].length > 0) { for (var m = 0; m < e("#filters")[0].length; m++)if (e("#filters")[0][m].name == h) { c = window.location.pathname.replace(h, ""); break } var v = ""; e("input[type=checkbox]:checked", "#filters").length > 0 && (v = s && 0 == s.length ? h : encodeURI(s[0])), c = "/" == c.substr(-1) ? c : c + "/"; var p = window.location.origin + c + v; window.history.pushState(null, null, p) } var g = e("#SearchText").val(); i = /<(?!\s*\/?\s*sup|\s*\/?\s*sub\b)[^>]*>/gi; g.match(i) && (g = ""), "" != g && (e("#SearchText").attr("placeholder", g).addClass("remove-italic-style"), e("#SearchText").blur()), e.ajax({ url: l, type: "POST", success: function (t) { if (t) { "" != g && (e("#SearchText").val(g), e("#SearchText").attr("placeholder", e("#SearchText").attr("data-placeholder")).removeClass("remove-italic-style")); var n = e("#paginationoutside").html(""); e("#RCSearchResult").html(""), e("#RCSearchResult").html(t), a(), "{CF3BBFCE-D48A-45C9-A6F9-CDDE560D6AF5}" != u && e(".sds-page-message").hide(); var r = e("#rcpagination").html(); e("#rcpagination").html(""), e("#paginationoutside").length > 0 ? e("#paginationoutside").html(r) : e("#RCSearchResult").append(n.html(r)), e(".item-list-count").length && e(".item-list-count").bootstrapSelectToButton(), "10" == o && e("#bstb-PageSize").find("span:first-child").addClass("small-right-margin") } } }) }, e("#ResourceCenterSearch").on("click", ResourceSearch), e(document).on("click", ".pageNav", (function () { e(this).parent().hasClass("active") || (document.documentElement.scrollTop = 500) })), e("#Country").on("change", (function (a) { var t = e("#Country option:selected").val(); "Germany" == t || "Canada" == t || "Russia" == t || "Latam" == t ? (e("input:radio[name=Measurement]").filter("[value=Metric]").prop("checked", !0), e("input:radio[name=Measurement]").filter("[value=Imperial]").prop("disabled", !0)) : "United States" == t ? (e("input:radio[name=Measurement]").filter("[value=Imperial]").prop("checked", !0), e("input:radio[name=Measurement]").filter("[value=Metric]").prop("disabled", !0)) : (e("input:radio[name=Measurement]").filter("[value=Metric]").prop("checked", !0).prop("disabled", !1), e("input:radio[name=Measurement]").filter("[value=Imperial]").prop("disabled", !1)) })), e(document).on("change", ".range-cont input[name='points']", (function (a) { var t, n; t = e(".range-cont input[name='points']"), n = !0, e.each(t, (function (a, t) { 0 == e(t).val() && (n = !1) })), n ? e("#Estimate").attr("disabled", !1) : e("#Estimate").attr("disabled", !0) })), e(document).on("focusin", ".range-cont input[name='points']", (function (a) { "0" == e(a.target).val() ? e(a.target).val("") : e(a.target).select() })), e(document).on("focusout", ".range-cont input[name='points']", (function (a) { "" == e(a.target).val() && e(a.target).val("0") })), e(document).on("click", ".mail-to-share", (function (e) { e.preventDefault(), window.location = mailContent })), e(document).on("click", ".print-btn", (function () { window.print() })), e("#Estimate").on("click", (function (a) { if (null == e(this).attr("disabled")) { var t = !0; e("input[name=currency]:checked").attr("id"); "metric" == e("input[name=measurement]:checked").attr("id") && (t = !1); var r, o = e("input[name=currency]:checked").attr("data-guid"); e.each(countryDetails, (function (e, a) { a.Id == o && (r = a) })); var i = { NoOfTrucksInFleet: e("#NoOfTrucksInFleet").val(), AvgKilometersOrMilesPerYearPerTruck: e("#AvgKilometersOrMilesPerYearPerTruck").val(), AvgLPerkmOrMPGPerTruck: e("#AvgLPerkmOrMPGPerTruck").val(), TodayAvgDieselPrice: e("#TodayAvgDieselPrice").val(), PercentOfFleetHGVorClass8inFleet: e("#PercentOfFleetHGVorClass8inFleet").val(), CurrentPercentIdleTimeOfFleet: e("#CurrentPercentIdleTimeOfFleet").val(), ImpactAdjustmentCalcConstValue: e("#ImpactAdjustmentCalcConstValue").val(), IsLessThan: !!t, IsMilesVersion: t, ImpactAdjustmentCalcConstValue: t ? r.ImperalImpactAdjustmentContant : r.MetricImpactAdjustmentConstant, CurrencySymbol: e("input[name=currency]:checked").siblings("label").text() }; resultSavings = []; var l, u = e(window).width(); u <= 359 && (l = 36), u >= 360 && (l = 50), u >= 768 && (l = 124), e.ajax({ url: "/SitecoreApi/DuronCalculator/EstimateDuronSavings", type: "POST", data: i, success: function (a) { if (e("#Estimate").attr("disabled", !0), e(".duron-result-content").remove(), a) { e("#Estimate").html(recalculateText), e(a).insertAfter(e(".duran-range-cont").parents(".lube-container")[0]), e("html,body").animate({ scrollTop: e(".duron-result-content").offset().top }, "slow"), n && n.destroy(); var t = []; e(resultSavings).each((function (e, a) { t.push(a[1]) })); getChartAxisValues(t); var r = ["#015105", "#015105", "#015105"]; if (4 == t.length && r.unshift("#017c08"), n = e.jqplot("chart", [resultSavings], { title: chartHeader, seriesColors: r, seriesDefaults: { renderer: e.jqplot.BarRenderer, rendererOptions: { varyBarColor: !0, barWidth: l }, shadow: !1 }, axesDefaults: { tickRenderer: e.jqplot.CanvasAxisTickRenderer, tickOptions: {}, showMinorTicks: !0 }, axes: { xaxis: { renderer: e.jqplot.CategoryAxisRenderer, tickOptions: { showGridline: !1 } }, yaxis: { autoscale: !0, min: 0, tickOptions: { showGridline: !0, formatString: "fr-ca" == e("#hdnLanguage").val() ? "%'d" + cuurencySymbol : cuurencySymbol + "%'d" } } }, legend: { renderer: jQuery.jqplot.PieLegendRenderer, show: !1, renderOptions: { numberColumns: 3 }, location: "e", placement: "outside", border: "none" }, grid: { drawGridLines: !1, background: "#e7e7e7", borderColor: "transparent", gridLineColor: "#d4d4d4", borderWidth: 0, shadow: !1, drawBorder: !1, shadowColor: "transparent" } }), "fr-ca" == e("#hdnLanguage").val()) { var o = e(".jqplot-axis.jqplot-yaxis").find(".jqplot-yaxis-tick"); e.each(o, (function (a, t) { e(t).html(e(t).text().replace(",", " ")) })), e(".jqplot-axis.jqplot-yaxis").css({ width: e(".jqplot-axis.jqplot-yaxis").width() + 2 }) } var i = 0; e(".jqplot-xaxis-tick").length > 3 && (i = 1); for (var u = 0; u < e(".jqplot-xaxis-tick").length; u++) { var s = "jqplot-xaxis-icon-" + u; e("<br/>").appendTo(e(".jqplot-xaxis-tick")[u]), e("<div id='" + s + "'>").appendTo(e(".jqplot-xaxis-tick")[u]), e("</div>").appendTo(e(".jqplot-xaxis-tick")[u]), u >= i && e("<br/>").appendTo(e("#" + s)), e(productImages[u][1]).appendTo(e("#" + s)) } } } }) } })); window.location.search.toString().indexOf("search") > 0 && le(), e("#GlobalSearch").on("click", (function (a) { var t = e("#SearchTerm").val(); t.match(/<(?!\s*\/?\s*sup|\s*\/?\s*sub\b)[^>]*>/gi) && (t = ""), ie(t) })), e(".search-block > .frm-search > .search-group > span.search-img").on("click", (function (a) { var t = e("#header-search").val(); t.match(/<(?!\s*\/?\s*sup|\s*\/?\s*sub\b)[^>]*>/gi) && (t = ""), ie(t) })), e("#btn-new-search").on("click", (function (a) { var t = e("#desktop-header-search").val(); t.match(/<(?!\s*\/?\s*sup|\s*\/?\s*sub\b)[^>]*>/gi) && (t = ""), ie(t) })), e(document).on("click", ".word-suggestion", (function (a) { a.preventDefault(); var t = e("#SearchTerm").val(); t.match(/<(?!\s*\/?\s*sup|\s*\/?\s*sub\b)[^>]*>/gi) && (t = ""), ie(t) })), e("#SearchBox #SearchTerm").keydown((function (a) { if (13 == a.keyCode) { var t = e("#SearchTerm").val(); return t.match(/<(?!\s*\/?\s*sup|\s*\/?\s*sub\b)[^>]*>/gi) && (t = ""), ie(t), !1 } })), e(document).on("click", ".page-anchors", (function (e) { e.preventDefault(), ue(1) })), e(document).on("click", ".pagination a", (function (a) { var t = e(this).data("page-number"); return e(this).parent().hasClass("active") || ue(t), !1 })), e(document).on("click", "#sds-search-redirect", (function (a) { K("sdsSearchRedirect", e(this).html()), K("searchResultsPageUrl", window.location.href); var t = e("html").attr("lang"); window.location.href = window.location.origin + "/" + t.toLowerCase() + "/knowledge-centre/sds" })), e(document).on("click", "#tds-search-redirect", (function (a) { K("tdsSearchRedirect", e(this).html()), K("searchResultsPageUrl", window.location.href); var t = e("html").attr("lang"); window.location.href = window.location.origin + "/" + t.toLowerCase() + "/knowledge-centre/tech-data" })); var X = Z("searchResultsPageUrl"), ee = window.location.href, ae = ""; if (null != X && X.indexOf("?search=") > 0 && (ee.indexOf("/knowledge-centre/sds") > 0 ? ae = Z("sdsSearchRedirect") : ee.indexOf("/knowledge-centre/tech-data") > 0 && (ae = Z("tdsSearchRedirect"))), null != ae) { var te = navigator.userAgent; if (te.indexOf("MSIE ") > -1 || te.indexOf("Trident/") > -1) { var ne = 0; ae.indexOf(String.fromCharCode(8482)) > 0 && (ne = ae.indexOf(String.fromCharCode(8482))), ae.indexOf(String.fromCharCode(60)) > 0 && (ne = ne > 0 ? Math.min(ne, ae.indexOf(String.fromCharCode(60))) : ae.indexOf(String.fromCharCode(60))), ae.indexOf(String.fromCharCode(169)) > 0 && (ne = ne > 0 ? Math.min(ne, ae.indexOf(String.fromCharCode(169))) : ae.indexOf(String.fromCharCode(169))), ae.indexOf(String.fromCharCode(174)) > 0 && (ne = ne > 0 ? Math.min(ne, ae.indexOf(String.fromCharCode(174))) : ae.indexOf(String.fromCharCode(174))), ae = ne > 0 ? ae.substring(0, ne) : ae } ae = ae.replace(/[&]nbsp[;]/gi, " "), e("#SearchText").length > 0 && e("#SearchText").val(ae), K("sdsSearchRedirect", ""), K("tdsSearchRedirect", ""), K("searchResultsPageUrl", "") } function re(a) { var t = "/" + e("html").attr("lang").toLowerCase() + "/search?search=" + a; window.location = window.location.origin + t } function oe(e) { var a = window.location.search.match(new RegExp("(\\?|&)" + e + "(\\[\\])?=([^&]*)")); return !!a && a[3] } function ie(a) { var t = "/" + e("html").attr("lang").toLowerCase() + "/search?search=" + a; window.location.href = window.location.origin + t, le() } function le() { var a = oe("search"); a && (a = decodeURIComponent(a)), 0 != a && e("#SearchTerm").length > 0 && (e("#SearchTerm").val(a), e("input[type=checkbox]:checked", "#SearchFilter").attr("checked", !1), e(".white-button", "#SearchFilter").removeClass("active"), ue(1)) } function ue(a) { var t = e("#ViewSize option:selected").attr("value"), n = []; e("input[type=checkbox]:checked", "#SearchFilter").each((function (a) { n[a] = e(this).val() })), e("#SearchTerm").length > 0 && e("#SearchTerm").val(); var r = { SearchQuery: e("#SearchTerm").val(), RecordSize: t, PageNo: a, FilterKeys: n }; void 0 !== e("#SearchTerm").val() && e("#SearchTerm").val().length >= 1 ? (e("#SearchTerm").attr("placeholder", r.SearchQuery).addClass("remove-italic-style"), e("#SearchTerm").blur(), e.ajax({ url: "/SitecoreApi/lubes/Search", traditional: !0, type: "POST", data: r, error: function () { console.log("Could not get search results") }, success: function (a) { e("#SearchTerm").val(r.SearchQuery), e("#SearchTerm").attr("placeholder", e("#SearchTerm").attr("data-placeholder")).removeClass("remove-italic-style"), a && (e("#SearchResult").html(""), e("#SearchResult").html(a), e("#SearchResult").find(".sidebar-info").not(":last").hide(), e(".item-list-count").length && e(".item-list-count").bootstrapSelectToButton()) } })) : e("#SearchResult").html("") } e(document).on("click", "#SearchFilter", (function (a) { var t = e(this).data("page-number"); return e(this).parent().hasClass("active") || ue(t), !1 })), e("#SearchText").keydown((function (e) { if (13 == e.keyCode) return ResourceSearch(), !1 })), e("#footerSearch").click((function () { e("#search").length > 0 && re(e("#search").val()) })), e("#header-search,#search, #footerSearch, #desktop-header-search").keydown((function (a) { if (13 == a.keyCode) { searchTerm = e(this).val(); searchTerm.match(/<(?!\s*\/?\s*sup|\s*\/?\s*sub\b)[^>]*>/gi) && (searchTerm = ""); var t = e(this).id; return "header-search" != t && "desktop-header-search" != t || (e("#" + t).attr("placeholder", searchTerm).addClass("remove-italic-style"), e("#" + t).blur()), re(searchTerm), !1 } })), GlobalSearch = function () { ue(1) }, e("#ViewSize").on("change", (function (a) { e("#GlobalSearch").click() })); var se = e.trim(e("#countryName").text()); Z("CountryName") && (se = Z("CountryName")); /*var ce = "/sitecoreapi/lubes/CheckRegionAvailabilityCookie?countryName=" + se; e.ajax({ url: ce, type: "GET", success: function (a) { "True" == a ? e("#cookie-info").show() : e("#cookie-info").hide() } }),*/ RegionSelector = function (a, t) { var n = e("#" + a).data("country-name"); e("#" + a).data("language"); K("RegionName", e("#" + a).data("region-name"), 365), K("RegionTitle", e("#" + a).data("region-title"), 365), K("CountryName", n, 365); var r = ""; n = n.replace(/\s/g, "_"), e("a", "#" + n).each((function (a) { r = r + e.trim(e(this).text()) + "|" + e(this).data("language") + "," })), K("LanguageList", r, 365), K("SelectedRegionalLang", e("#" + a).data("language"), 365), K("SiteLanguage", e("#" + a).data("language"), 365); var o = new RegExp("/[a-z]{2}-[a-zA-Z]{2}"); if (window.location.pathname.match(o) && (redirectToLast || window.location.pathname.indexOf("stage1") > -1)) { var i = window.location.pathname.match(o); window.location.href = window.location.origin + "/" + e("#" + a).data("language") + window.location.pathname.replace(i, "") } else window.location.href = redirectToLast ? window.location.origin + "/" + e("#" + a).data("language") + window.location.pathname : window.location.origin + "/" + e("#" + a).data("language") }, LanguageSwitcher = function () { var a = e(".drpdown-lang option:selected").attr("value"); K("SelectedRegionalLang", a, 365), K("SiteLanguage", a, 365); var t = new RegExp("/[a-z]{2}-[a-zA-Z]{2}"), n = window.location.href.slice(window.location.href.indexOf("?") + 1); if (window.location.pathname.match(t)) { var r = window.location.pathname.match(t); n.length > 1 && -1 == n.indexOf(":") ? window.location.href = V(window.location.origin + "/" + a + window.location.pathname.replace(r, "") + "?" + n) : window.location.href = V(window.location.origin + "/" + a + window.location.pathname.replace(r, "")) } else n.length > 1 && -1 == n.indexOf(":") ? window.location.href = V(window.location.origin + "/" + a + window.location.pathname + "?" + n) : window.location.href = V(window.location.origin + "/" + a + window.location.pathname) }, PopupSwitcher = function (a) { e(".drpdown-lang").val(V(a)), K("SelectedRegionalLang", V(a), 365), K("SiteLanguage", a, 365); var t = window.location.href.slice(window.location.href.indexOf("?") + 1), n = new RegExp("/[a-z]{2}-[a-zA-Z]{2}"); if (window.location.pathname.match(n)) { var r = window.location.pathname.match(n); t.length > 1 && -1 == t.indexOf(":") ? window.location.href = V(window.location.origin + "/" + a + window.location.pathname.replace(r, "") + "?" + t) : window.location.href = V(window.location.origin + "/" + a + window.location.pathname.replace(r, "")) } else t.length > 1 && -1 == t.indexOf(":") ? window.location.href = V(window.location.origin + "/" + a + window.location.pathname + "?" + t) : window.location.href = V(window.location.origin + "/" + a + window.location.pathname) }, UpdateLanguageSwitcher = function () { if (Z("LanguageList")) { var a = Z("LanguageList").split(","), t = ""; for (Se = 0; Se < a.length - 1; Se++) { var n = a[Se].split("|"); t = t + '<option value="' + n[1], t = V(n[1]) == V(e("html").attr("lang")) ? t + '" Selected>' + n[0] + "</option>" : t + '">' + n[0] + "</option>" } e(".drpdown-lang").html(t) } }, UpdateRegionLanguageSwitcher = function () { for (var a = "", t = e("html").attr("lang"), n = [{ key: "en-CA", value: "Canada" }, { key: "fr-CA", value: "Canada" }, { key: "en-US", value: "United States" }, { key: "es-XL", value: "United States" }, { key: "zh-CN", value: "China" }, { key: "en-CN", value: "China" }, { key: "en-IN", value: "India" }, { key: "en-ID", value: "Indonesia" }, { key: "en-JP", value: "Japan" }, { key: "en-MY", value: "Malaysia" }, { key: "en-MN", value: "Mongolia" }, { key: "fr-MN", value: "Mongolia" }, { key: "de-MN", value: "Mongolia" }, { key: "en-PK", value: "Pakistan" }, { key: "en-PH", value: "Philippines" }, { key: "en-SG", value: "Singapore" }, { key: "en-KR", value: "South Korea" }, { key: "en-TW", value: "Taiwan" }, { key: "en-TH", value: "Thailand" }, { key: "en-VN", value: "Vietnam" }, { key: "en-AL", value: "Albania" }, { key: "de-AL", value: "Albania" }, { key: "de-AT", value: "Austria" }, { key: "fr-AT", value: "Austria" }, { key: "en-AT", value: "Austria" }, { key: "de-AT", value: "Austria" }, { key: "en-BE", value: "Belgium" }, { key: "fr-BE", value: "Belgium" }, { key: "de-BE", value: "Belgium" }, { key: "en-BA", value: "Bosnia and Herzegovina" }, { key: "de-BA", value: "Bosnia and Herzegovina" }, { key: "en-BG", value: "Bulgaria" }, { key: "de-BG", value: "Bulgaria" }, { key: "en-HR", value: "Croatia" }, { key: "de-HR", value: "Croatia" }, { key: "en-CY", value: "Cyprus" }, { key: "fr-CY", value: "Cyprus" }, { key: "de-CY", value: "Cyprus" }, { key: "en-CZ", value: "Czech Republic" }, { key: "fr-CZ", value: "Czech Republic" }, { key: "de-CZ", value: "Czech Republic" }, { key: "en-DK", value: "Denmark" }, { key: "fr-DK", value: "Denmark" }, { key: "de-DK", value: "Denmark" }, { key: "en-EE", value: "Estonia" }, { key: "fr-EE", value: "Estonia" }, { key: "de-EE", value: "Estonia" }, { key: "ru-EE", value: "Estonia" }, { key: "en-FI", value: "Finland" }, { key: "fr-FI", value: "Finland" }, { key: "de-FI", value: "Finland" }, { key: "fr-FR", value: "France" }, { key: "en-FR", value: "France" }, { key: "de-FR", value: "France" }, { key: "en-GE", value: "Georgia" }, { key: "fr-GE", value: "Georgia" }, { key: "de-GE", value: "Georgia" }, { key: "ru-GE", value: "Georgia" }, { key: "de-DE", value: "Germany" }, { key: "en-DE", value: "Germany" }, { key: "fr-DE", value: "Germany" }, { key: "en-GR", value: "Greece" }, { key: "de-GR", value: "Greece" }, { key: "en-GL", value: "Greenland" }, { key: "de-GL", value: "Greenland" }, { key: "en-HU", value: "Hungary" }, { key: "de-HU", value: "Hungary" }, { key: "en-IS", value: "Iceland" }, { key: "de-IS", value: "Iceland" }, { key: "en-IE", value: "Ireland" }, { key: "en-IM", value: "Isle of Man" }, { key: "en-IT", value: "Italy" }, { key: "fr-IT", value: "Italy" }, { key: "de-IT", value: "Italy" }, { key: "en-XK", value: "Kosovo" }, { key: "en-LV", value: "Latvia" }, { key: "de-LV", value: "Latvia" }, { key: "ru-LV", value: "Latvia" }, { key: "en-LT", value: "Lithuania" }, { key: "de-LT", value: "Lithuania" }, { key: "ru-LT", value: "Lithuania" }, { key: "en-MT", value: "Malta" }, { key: "de-MT", value: "Malta" }, { key: "en-NL", value: "Netherlands" }, { key: "fr-NL", value: "Netherlands" }, { key: "de-NL", value: "Netherlands" }, { key: "en-NO", value: "Norway" }, { key: "en-PL", value: "Poland" }, { key: "de-PL", value: "Poland" }, { key: "es-PT", value: "Portugal" }, { key: "en-PT", value: "Portugal" }, { key: "fr-PT", value: "Portugal" }, { key: "en-RO", value: "Romania" }, { key: "de-RO", value: "Romania" }, { key: "en-RS", value: "Serbia" }, { key: "de-RS", value: "Serbia" }, { key: "en-SK", value: "Slovakia" }, { key: "de-SK", value: "Slovakia" }, { key: "en-SI", value: "Slovenia" }, { key: "de-SI", value: "Slovenia" }, { key: "es-ES", value: "Spain" }, { key: "en-ES", value: "Spain" }, { key: "en-SE", value: "Sweden" }, { key: "de-CH", value: "Switzerland" }, { key: "fr-CH", value: "Switzerland" }, { key: "en-CH", value: "Switzerland" }, { key: "en-TR", value: "Turkey" }, { key: "de-TR", value: "Turkey" }, { key: "en-GB", value: "United Kingdom" }, { key: "en-MX", value: "Mexico" }, { key: "ru-AM", value: "Armenia" }, { key: "en-AM", value: "Armenia" }, { key: "fr-AM", value: "Armenia" }, { key: "de-AM", value: "Armenia" }, { key: "ru-AZ", value: "Azerbaijan" }, { key: "en-AZ", value: "Azerbaijan" }, { key: "fr-AZ", value: "Azerbaijan" }, { key: "de-AZ", value: "Azerbaijan" }, { key: "ru-KZ", value: "Kazakhstan" }, { key: "en-KZ", value: "Kazakhstan" }, { key: "fr-KZ", value: "Kazakhstan" }, { key: "de-KZ", value: "Kazakhstan" }, { key: "ru-KG", value: "Kyrgyzstan" }, { key: "en-KG", value: "Kyrgyzstan" }, { key: "de-KG", value: "Kyrgyzstan" }, { key: "fr-KG", value: "Kyrgyzstan" }, { key: "ru-MD", value: "Moldova" }, { key: "en-MD", value: "Moldova" }, { key: "fr-MD", value: "Moldova" }, { key: "de-MD", value: "Moldova" }, { key: "ru-RU", value: "Russian Federation" }, { key: "en-RU", value: "Russian Federation" }, { key: "fr-RU", value: "Russian Federation" }, { key: "de-RU", value: "Russian Federation" }, { key: "ru-TJ", value: "Tajikistan" }, { key: "en-TJ", value: "Tajikistan" }, { key: "fr-TJ", value: "Tajikistan" }, { key: "de-TJ", value: "Tajikistan" }, { key: "ru-TM", value: "Turkmenistan" }, { key: "en-TM", value: "Turkmenistan" }, { key: "fr-TM", value: "Turkmenistan" }, { key: "de-TM", value: "Turkmenistan" }, { key: "ru-UA", value: "Ukraine" }, { key: "en-UA", value: "Ukraine" }, { key: "fr-UA", value: "Ukraine" }, { key: "de-UA", value: "Ukraine" }, { key: "ru-UZ", value: "Uzbekistan" }, { key: "en-UZ", value: "Uzbekistan" }, { key: "fr-UZ", value: "Uzbekistan" }, { key: "de-UZ", value: "Uzbekistan" }, { key: "en-AU", value: "Australia" }, { key: "en-NZ", value: "New Zealand" }, { key: "en-DZ", value: "Algeria" }, { key: "fr-DZ", value: "Algeria" }, { key: "en-EG", value: "Egypt" }, { key: "fr-EG", value: "Egypt" }, { key: "en-IL", value: "Israel" }, { key: "en-JO", value: "Jordan" }, { key: "en-KE", value: "Kenya" }, { key: "en-KW", value: "Kuwait" }, { key: "en-LB", value: "Lebanon" }, { key: "fr-LB", value: "Lebanon" }, { key: "en-MA", value: "Morocco" }, { key: "fr-MA", value: "Morocco" }, { key: "en-NG", value: "Nigeria" }, { key: "fr-NG", value: "Nigeria" }, { key: "en-OM", value: "Oman" }, { key: "en-SA", value: "Saudi Arabia" }, { key: "de-SA", value: "Saudi Arabia" }, { key: "en-ZA", value: "South Africa" }, { key: "de-ZA", value: "South Africa" }, { key: "fr-ZA", value: "South Africa" }, { key: "fr-TN", value: "Tunisia" }, { key: "en-TN", value: "Tunisia" }, { key: "en-AE", value: "United Arab Emirates" }, { key: "en-YE", value: "Yemen" }, { key: "es-AR", value: "Argentina" }, { key: "en-AR", value: "Argentina" }, { key: "es-BZ", value: "Belize" }, { key: "en-BZ", value: "Belize" }, { key: "es-BO", value: "Bolivia" }, { key: "en-BO", value: "Bolivia" }, { key: "es-BR", value: "Brazil" }, { key: "en-BR", value: "Brazil" }, { key: "es-KY", value: "Cayman Islands" }, { key: "en-KY", value: "Cayman Islands" }, { key: "es-CL", value: "Chile" }, { key: "en-CL", value: "Chile" }, { key: "es-CO", value: "Colombia" }, { key: "en-CO", value: "Colombia" }, { key: "es-CR", value: "Costa Rica" }, { key: "en-CR", value: "Costa Rica" }, { key: "es-CU", value: "Cuba" }, { key: "en-CU", value: "Cuba" }, { key: "es-DO", value: "Dominican Republic" }, { key: "en-DO", value: "Dominican Republic" }, { key: "es-EC", value: "Ecuador" }, { key: "en-EC", value: "Ecuador" }, { key: "es-SV", value: "El Salvador" }, { key: "en-SV", value: "El Salvador" }, { key: "es-GT", value: "Guatemala" }, { key: "en-GT", value: "Guatemala" }, { key: "es-GY", value: "Guyana" }, { key: "en-GY", value: "Guyana" }, { key: "fr-HT", value: "Haiti" }, { key: "es-HT", value: "Haiti" }, { key: "en-HT", value: "Haiti" }, { key: "es-HN", value: "Honduras" }, { key: "en-HN", value: "Honduras" }, { key: "es-JM", value: "Jamaica" }, { key: "en-JM", value: "Jamaica" }, { key: "es-JM", value: "Jamaica" }, { key: "es-MX", value: "Mexico" }, { key: "es-NI", value: "Nicaragua" }, { key: "en-NI", value: "Nicaragua" }, { key: "es-PA", value: "Panama" }, { key: "en-PA", value: "Panama" }, { key: "es-PY", value: "Paraguay" }, { key: "en-PY", value: "Paraguay" }, { key: "es-PE", value: "Peru" }, { key: "en-PE", value: "Peru" }, { key: "es-TT", value: "Trinidad Tobago" }, { key: "en-TT", value: "Trinidad Tobago" }, { key: "es-UY", value: "Uruguay" }, { key: "en-UY", value: "Uruguay" }, { key: "es-VE", value: "Venezuela" }, { key: "en-VE", value: "Venezuela" }], r = String(t), o = 0; o < n.length; o++)if (r === n[o].key) a = n[o].value; e("#countryName").text(a), K("CountryName", a, 365); var i = a.replace(" ", "_") + t, l = e("#" + i).data("country-name"); K("RegionName", e("#" + i).data("region-name"), 365), K("RegionTitle", e("#" + i).data("region-title"), 365); var u = ""; l = l.replace(" ", "_"), e("a", "#" + l).each((function (a) { u = u + e.trim(e(this).text()) + "|" + e(this).data("language") + "," })), K("LanguageList", u, 365), K("SelectedRegionalLang", e("#" + i).data("language"), 365), UpdateLanguageSwitcher() }; var de = V(e("html").attr("lang")); -1 != V(window.location.href).indexOf(de) && Z("SelectedRegionalLang") != de || !Z("CountryName") || null == Z("CountryName") || (e("#countryName").text(Z("CountryName")), UpdateLanguageSwitcher()), Z("SelectedRegionalLang") && Z("SelectedRegionalLang") != V(de) && UpdateRegionLanguageSwitcher(), null != Z("CountryName") && null != Z("CountryName") || UpdateRegionLanguageSwitcher(), null != de && e(".drpdown-lang option").each((function () { e(this).val() == de && e(this).attr("selected", "selected") })), e(".drpdown-lang").length && e(".drpdown-lang").bootstrapSelectToButton(), e(document).on("change", "#drpdn-compare-products", (function (a) { var t = e("#drpdn-compare-products option:selected"), n = t.attr("Id"), r = t.attr("value"); e("#ProductGradesGridId").val(r), e.ajax({ url: "/SitecoreApi/lubes/GetCompareProductGrades?productLineId=" + n, type: "POST", success: function (a) { a && e("#accordion").html(a) } }) })), e(document).on("change", "#drpdn-industries-products, #drpdn-brands-products, #drpdn-categories-products", (function () { var a = e("option:selected", this).attr("value"); window.location.href = V(window.location.origin + a) })); var he = V(encodeURIComponent(window.location.href)); if (e("#hdnIndustryName").length > 0 && "" != e("#hdnIndustryName").val()) { var me = V(encodeURIComponent(e("#hdnIndustryName").val())); if ((ye = V((be = e(".contact-ribbon .ui-link").not(".contact-down-arrow")).attr("href"))) && -1 != ye.indexOf("#")) { var ve = ye.substr(0, ye.indexOf("#")) + "?industryname=" + me; K("referrerurl", we = he + ye.substr(ye.indexOf("#"), ye.length)) } else K("referrerurl", he) } if (e("#hdnBrandName").length > 0 && "" != e("#hdnBrandName").val()) { var pe = -1 == (fe = e("#hdnBrandName").val()).indexOf("<sup>") ? fe : fe.substr(0, fe.indexOf("<sup>")) + V(fe.substr(fe.indexOf("</sup>") + 6, fe.length)); if ((ye = V((be = e(".contact-ribbon .ui-link").not(".contact-down-arrow")).attr("href"))) && -1 != ye.indexOf("#")) { ve = ye.substr(0, ye.indexOf("#")) + "?brand=" + pe; K("referrerurl", we = he + ye.substr(ye.indexOf("#"), ye.length)) } else K("referrerurl", he) } if (e("#hdnCategoryName").length > 0 && "" != e("#hdnCategoryName").val()) { var ge = -1 == (fe = e("#hdnCategoryName").val()).indexOf("<sup>") ? fe : fe.substr(0, fe.indexOf("<sup>")) + V(fe.substr(fe.indexOf("</sup>") + 6, fe.length)); if ((ye = V((be = e(".contact-ribbon .ui-link").not(".contact-down-arrow")).attr("href"))) && -1 != ye.indexOf("#")) { ve = ye.substr(0, ye.indexOf("#")) + "?category=" + ge; K("referrerurl", we = he + ye.substr(ye.indexOf("#"), ye.length)) } else K("referrerurl", he) } if (e("#hdnProductName").length > 0 && "" != e("#hdnProductName").val()) { var fe, ye, ke = -1 == (fe = e("#hdnProductName").val()).indexOf("<sup>") ? fe : fe.substr(0, fe.indexOf("<sup>")) + V(fe.substr(fe.indexOf("</sup>") + 6, fe.length)); if ((ye = V((be = e(".contact-ribbon .ui-link").not(".contact-down-arrow")).attr("href"))) && -1 != ye.indexOf("#")) { var we; ve = ye.substr(0, ye.indexOf("#")) + "?product=" + ke; K("referrerurl", we = he + ye.substr(ye.indexOf("#"), ye.length)) } else K("referrerurl", he) } if (e(".duran-range-cont.calculator-main").length > 0) if ((ye = V((be = e(".contact-ribbon .ui-link").not(".contact-down-arrow")).attr("href"))) && -1 != ye.indexOf("#")) { ve = ye.substr(0, ye.indexOf("#")) + "?brand=duron", c = he + ye.substr(ye.indexOf("#"), ye.length); K("referrerurl", we), be.attr("href", ve) } else be.attr("href", ye + "?brand=duron"), K("referrerurl", he); if (e(".decision-tree-function").length > 0) if ((ye = V((be = e(".contact-ribbon .ui-link").not(".contact-down-arrow")).attr("href"))) && -1 != ye.indexOf("#")) { ve = ye.substr(0, ye.indexOf("#")) + "?brand=sentron", c = he + ye.substr(ye.indexOf("#"), ye.length); K("referrerurl", we), be.attr("href", ve) } else be.attr("href", ye + "?brand=sentron"), K("referrerurl", he); if ((ye = V(e(".contact-ribbon .ui-link").not(".contact-down-arrow").attr("href"))) && -1 == ye.indexOf("referrerurl")) { var be = e(".contact-ribbon .ui-link").not(".contact-down-arrow"); if (ye && -1 != ye.indexOf("#")) { ve = ye.substr(0, ye.indexOf("#")), c = he + ye.substr(ye.indexOf("#"), ye.length); K("referrerurl", we), be.attr("href", ve) } else be.attr("href", ye), K("referrerurl", he) } if (e("#filters") && e("#filters")[0] && e("#filters")[0].length > 0) for (var xe = window.location.pathname.split("/"), Ce = xe[xe.length - 1], Se = 0; Se < e("#filters")[0].length; Se++) { var Te = e("#filters")[0][Se].name; if (Te == Ce) { e("#filters input:checkbox[name='" + Te + "']").prop("checked", !0), ResourceSearch("", null, null); break } } e(".ui-link").on("click", (function () { var a = e(this).attr("videopath"); e("#ytcartoonVideo").attr("src", a) })) })), e(window).load((function () { if (a(), window.location.pathname.endsWith("knowledge-centre") && document.getElementById("All") && (document.getElementById("All").checked = !0, ResourceSearch("all")), e(".top-right-nav").removeClass("hidden-sm").removeClass("hidden-xs"), e("#no-searchresults").hide(), e(".featured-bc a").filter("[href='" + window.location.hash + "']").click(), e(".footer-top-nav").find("a.orderOnline").attr("href", e(".footer-top-nav").find("a.orderOnline").attr("href") + "#orderonline"), e(".contact-tab-cont").length > 0 && "none" == e("#myTabContent").css("display")) { var t = null != e(e("#getInTouch").find("form")).contents()[4] ? e(e("#getInTouch").find("form")).contents()[4] : e(e("#getInTouch-collapse").find("form")).contents()[4]; null != t && t.length > 6 && 1 == e("#getInTouchTab").hasClass("collapsed") && e("#getInTouchTab").click(); var n = !1; e.each(e(".thank-you-cont"), (function (a) { "block" == e(this).parents(".lube-col1").css("display") && (n = !0) })), n || e(".js-tabcollapse-panel-heading").filter("[href='" + window.location.hash + "']").click() } })) }(jQuery); var query_split = window.location.href.split("?"), url_location = query_split[0], share_title = $('meta[property="og:title"]').attr("content"), share_summary = $('meta[property="og:description"]').attr("content"), share_twitter = $('meta[property="og:description"]').attr("content"), share_fb = function () { var e = "http://www.facebook.com/sharer.php?p[url]=" + encodeURIComponent(url_location); return window.open(e, "page_share", "width=626,height=436"), !1 }, share_tw = function () { var e = "http://twitter.com/home?status=" + encodeURIComponent(share_twitter) + " " + url_location; return window.open(e, "page_share", "width=626,height=260"), !1 }, share_gp = function (e, a, t, n) { var r = "https://plus.google.com/share?url=" + url_location; return window.open(r, "page_share", "width=520,height=570"), !1 }, getChartAxisValues = function (e) { var a = Math.max.apply(Math, e), t = (a - Math.min.apply(Math, e)) / 6, n = Math.ceil(Math.log(t) / Math.LN10 - 1), r = Math.pow(10, n), o = Math.ceil(t / r) * r; return { tickRange: o, maxValue: o * Math.round(1 + a / o) } }; function GTMSubmitOrError(e) { for (var a = document.getElementById(e).elements, t = 0, n = 0; n < a.length; n++) { if (0 == a[n].validity.valid && "" !== a[n].name) { if ("get-in-touch" == e && "industry" == a[n].name) if (0 == document.getElementById("becomeadistributor").checked) continue; var r = a[n].name, o = a[n].validationMessage, i = r.concat(" : ".concat(o)); t = 1; break } if (("countrycode" == a[n].name || "phonenumber" == a[n].name) && "" == a[n].value) { var l = $("html")[0].lang, u = $(".show-country").text(); if ("en-CA" != l && "Canada" != $.trim(u) && "fr-CA" != l && "Canada" != $.trim(u) && "en-US" != l && "United States" != $.trim(u)) { o = "Please fill in this field.", i = (r = a[n].name).concat(" : ".concat(o)), t = 1; break } } } 0 == t ? GTMSubmit(e) : GTMError(e, i) } function GTMSubmit(e) { formSubmitted = !0, dataLayer.push({ event: "formSubmit", formId: e }) } function GTMError(e, a) { dataLayer.push({ event: "formError", formId: e, errorMessage: a }) } function GTMAbandon() { var e; if ($("#take-duron-challenge").length > 0) if (e = "take-duron-challenge", formSubmitted) formSubmitted = !1; else { for (var a = document.getElementById(e).elements, t = "{", n = a.length, r = 0, o = 0, i = 0, l = 0, u = 0; u < a.length; u++)"" === a[u].name ? n-- : "" === a[u].value ? (t = "{" === t ? t.concat(a[u].name) : t.concat(",".concat(a[u].name)), r++) : "checkbox" == a[u].type ? 1 == a[u].checked ? n-- : (t = "{" === t ? t.concat(a[u].name) : t.concat(",".concat(a[u].name)), r++) : "take-duron-challenge" === e && ("vehiclesFleet" == a[u].name && 0 == a[u].checked ? o < 1 ? (o++, n--) : (t = "{" === t ? t.concat(a[u].name) : t.concat(",".concat(a[u].name)), r++) : "oilVolume" == a[u].name && 0 == a[u].checked ? i < 2 ? (i++, n--) : (t = "{" === t ? t.concat(a[u].name) : t.concat(",".concat(a[u].name)), r++) : "oilSampling" == a[u].name && 0 == a[u].checked && (l < 2 ? (l++, n--) : (t = "{" === t ? t.concat(a[u].name) : t.concat(",".concat(a[u].name)), r++))); t = t.concat("}"); var s = (n - r) / n * 100; 0 == s && 0 == formFocused || dataLayer.push({ event: "formAbandonment", formId: e, incompleteFields: t, percentComplete: s }) } } function formHasBeenFocused() { formFocused = !0 } /*function GetSDSAvailLangsDD(e) { $.ajax({ url: "/sitecoreapi/lubesApi/GetDLAvailableLanguages", type: "POST", data: { id: e }, context: this, success: function (a) { try { document.getElementById("sdsddsiv_" + e).innerHTML = a, sortData("sdsddsiv_" + e) } catch (e) { console.log("errorC", e) } }, error: function (e) { console.log("errorF", e) } }), $(".dropdown-content").removeClass("show"), $(this).parent().find(".dropdown-content").addClass("show"), document.getElementById("sdsddsiv_" + e).classList.toggle("show") } function GetTDAvailLangsDD(e, a) { $.ajax({ url: "/sitecoreapi/lubesApi/GetTDAvailableLanguages", type: "POST", data: { id: e, title: a }, context: this, success: function (t) { try { document.getElementById("tdsdiv_" + e + "_" + a).innerHTML = t, sortData("tdsdiv_" + e + "_" + a) } catch (e) { console.log("errorC", e) } }, error: function (e) { console.log("errorF", e) } }), $(".dropdown-content").removeClass("show"), $(this).parent().find(".dropdown-content").addClass("show"), document.getElementById("tdsdiv_" + e + "_" + a).classList.toggle("show") } */function sortData(e) { var a, t, n, r, o; for (a = document.getElementById(e), n = !0; n;) { for (n = !1, r = a.getElementsByTagName("a"), t = 0; t < r.length - 1; t++)if (o = !1, r[t].innerHTML.toLowerCase() > r[t + 1].innerHTML.toLowerCase()) { o = !0; break } o && (r[t].parentNode.insertBefore(r[t + 1], r[t]), n = !0) } } GetPDFDocument = function (e, a) { var t = "/api/sitecore/LubesApi/DownloadResource?docID=" + e + "&type=" + a + "&lang=" + readCookie("SiteLanguage"); $.ajax({ url: t, type: "GET", success: function (e) { } }) }, window.onclick = function (e) { if (!e.target.matches(".dropbtn")) { var a, t = document.getElementsByClassName("dropdown-content"); for (a = 0; a < t.length; a++) { var n = t[a]; n.classList.contains("show") && n.classList.remove("show") } } };