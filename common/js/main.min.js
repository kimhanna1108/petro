
var pclDigitalHandbook={scrollTable:function(){const e=document.querySelectorAll("[data-table-scroll]"),n=e=>{e.preventDefault(),e.stopImmediatePropagation()};var l=!1;let a=!1,s,o;e.forEach(function(e){const t=e;t.addEventListener("mousedown",e=>{a=!0,s=e.pageX-t.offsetLeft,o=t.scrollLeft}),t.addEventListener("mouseleave",()=>{a=!1}),t.addEventListener("mouseup",()=>{a=!1;const t=document.getElementsByClassName("h-scroll-item");if(l)for(let e=0;e<t.length;e++)t[e].addEventListener("click",n);else for(let e=0;e<t.length;e++)t[e].removeEventListener("click",n);l=!1}),t.addEventListener("mousemove",e=>{a&&(l=!0,e.preventDefault(),e=2*(e.pageX-t.offsetLeft-s),t.scrollLeft=o-e)})})},subNavigation:function(){const n=document.querySelector(".subnav-open"),l=document.querySelector(".subnav-close"),a=document.getElementById("subNavigation"),s=window.matchMedia("(min-width: 992px)");function t(){var e=!!a.classList.contains("open"),t=s.matches||!1;document.querySelector("body").style.overflowY=e&&!t?"hidden":null,n.setAttribute("aria-expanded",e),l.setAttribute("aria-expanded",e)}function e(e,c){e.forEach(function(e){let t=e.getAttribute("aria-controls")||null,n=document.getElementById(t),l=e.nextElementSibling||null;if(1==c&&l&&l.classList.contains("current")&&e.classList.add("expanded"),n){var a;n.hasAttribute("data-expanded")||n.setAttribute("data-expanded","true");for(let t=0;t<n.children.length;t++){let e=n.children[t];if(e.querySelector("a")){let n=e.querySelector("a");if(n.classList.contains("current")){let e=n.closest("ul.l3 > li").querySelector(".subnav-ctrl")||null,t=n.closest(".section").querySelector(".subnav-ctrl")||null;e&&e.classList.add("expanded"),t&&t.classList.add("expanded");break}}}a=n.offsetHeight,n.setAttribute("data-expanded",!!e.classList.contains("expanded")||!1),s=n,o=a,e.addEventListener("click",function(e){e.preventDefault(),this.classList.toggle("expanded");e="false"===s.getAttribute("data-expanded");s.setAttribute("data-expanded",e),e?(s.style.height=o+"px",setTimeout(function(){s.style.height="auto"},175)):(s.style.height=o+"px",setTimeout(function(){s.style.height="0"},150))})}var s,o})}var o;a&&(n.addEventListener("click",function(e){e.preventDefault(),this.classList.toggle("active"),a.classList.toggle("open"),t()}),s.addEventListener("change",e=>{t()}),l.addEventListener("click",function(e){e.preventDefault(),this.classList.toggle("active"),a.classList.toggle("open"),t()}),o=a.querySelectorAll(".subnav-ctrl[data-subnav-level='1']"),e(a.querySelectorAll(".subnav-ctrl[data-subnav-level='2']"),2),e(o,1))},searchPanel:function(){const e=document.querySelector(".search-panel-toggle");e&&e.addEventListener("click",function(e){let t=document.getElementById(this.dataset.targetId);var n="true"!=(this.getAttribute("aria-expanded")||!1);this.classList.toggle("active"),t.classList.toggle("expanded"),this.setAttribute("aria-expanded",n)})},suggestedSearch:function(e){const l=document.querySelector(".search-panel .search-panel__suggest-list"),t=document.querySelector(".search-panel .search-panel__ctrl");function n(e=!0,t){var i;e&&t?(i=t,$.ajax({url:"/sitecoreapi/digitalhandBook/DHBSearchAutoCompleter",type:"POST",data:{SearchQuery:i,PageNo:"1",ResultstoShow:"5"},success:function(e){var n=0,s=JSON.parse(e),e="";null!=s.resultlist[0]&&(e=s.resultlist[0].Language.toLowerCase());var o=window.location.origin+"/"+e;let c=document.createElement("ul");$.each(s.resultlist,function(){let e=document.createElement("li"),l=document.createElement("a");var t="",t=-1!=s.urllist[n].indexOf("/sitecore/content/Sites/Lubes/Home")?s.urllist[n].replace("/sitecore/content/Sites/Lubes/Home",o):s.urllist[n].replace("/sitecore/content/sites/lubes/home",o),a=s.metanamelist[n];if(console.log(t),console.log(a),t=t.replaceAll(" ","-").replaceAll("%20","-"),resultitem={},t&&l.setAttribute("href",t),a){let e=a,t=e,n=new RegExp(i,"i");e.match(n)&&(t=e.replace(n,"<em>$&</em>")),l.innerHTML=t}e.appendChild(l),c.appendChild(e),n+=1}),0!=n&&(l.innerHTML="",l.appendChild(c),l.classList.add("show"))},error:function(){console.log("Could not get search results")}})):l.innerHTML=""}function a(e,t=!0){e&&t?2<((e=e.target.value).length||0)?n(!0,e):l.classList.remove("show"):(l.classList.remove("show"),n(!1,null))}t&&l&&(t.addEventListener("focus",e=>{t.addEventListener("input",e=>{a(e,!0)})}),t.addEventListener("focusout",e=>{t.removeEventListener("input",e=>{a(e,!1)})}))},accordion:function(){const e=document.querySelectorAll(".accordion");0<e.length&&e.forEach(function(n){let e=n.querySelectorAll(".ac-ctrl");if(acBtnAll=n.querySelector("[data-accordion-all]"),acBtnAllAltText="",bOpenItems=!1,bAllToggle=!1,acBtnAll){let t=acBtnAll.querySelector(".ico");acBtnAllAltText=acBtnAll.querySelector("span").innerText,acBtnAll.addEventListener("click",function(e){bAllToggle=!0,t&&t.classList.toggle("close"),bOpenItems?(l(n,!1),this.querySelector("span").innerText=acBtnAllAltText):(l(n,!0),this.querySelector("span").innerText=acBtnAll.dataset.altLabel),bOpenItems=1!=bOpenItems})}if(0<e.length){let o=0;e.forEach(function(t){let e=!1;t.hasAttribute("aria-expanded")?e="true"==t.getAttribute("aria-expanded"):t.setAttribute("aria-expanded","true");let n=t.closest(".accordion-item"),l=e,a=n.querySelector(".accordion__panel"),s;s=a.offsetHeight,t.setAttribute("aria-expanded",l),t.addEventListener("click",function(e){e.preventDefault(),n.classList.toggle("expanded"),l="true"==this.getAttribute("aria-expanded")?"true":"false",bAllToggle||0!=o?bOpenItems="true"===l:(bOpenItems=!1,o++),t.setAttribute("aria-expanded","true"===l?"false":"true"),l="true"===l?"false":"true","true"===l?(a.style.height=s+"px",setTimeout(function(){a.style.height="auto"},350)):(a.style.height=s+"px",setTimeout(function(){a.style.height="0"},100)),function(t){if(acBtnAll){let e=acBtnAll.querySelector(".ico");bOpenItems=1==t?(acBtnAll.querySelector("span").innerText=acBtnAllAltText,e.classList.remove("close"),!1):(acBtnAll.querySelector("span").innerText=acBtnAll.dataset.altLabel,e.classList.add("close"),!0)}}(bOpenItems)})})}function l(e,l){let t=e.querySelectorAll(".accordion-item");t.forEach(function(e){let t=e.querySelector(".ac-ctrl"),n=e.querySelector(".accordion__panel");l?e.classList.add("expanded"):e.classList.remove("expanded"),t.setAttribute("aria-expanded",l),n.style.height=l?"auto":"0"})}})},symbolPanel:function(){const e=document.querySelector(".symbols-panel-open");if(e){const t=new ResizeObserver(function(e){let t=e[0].contentRect,n=t.height,l=document.querySelector(".col-content"),a=l.querySelector(".symbols-wrapper");e=n+a.offsetHeight+10;l.style.minHeight=e+"px"});t.observe(document.getElementById("symbolsPanel"));const n=document.getElementById(e.dataset.targetId),l=document.querySelector(".symbols-panel-close");e.addEventListener("click",function(e){var t="true"!=(this.getAttribute("aria-expanded")||!1);n.classList.contains("expanded")?(n.classList.remove("expanded"),n.classList.add("out")):(n.classList.add("expanded"),n.classList.remove("out")),this.setAttribute("aria-expanded",t)}),l.addEventListener("click",function(e){var t="true"!=(this.getAttribute("aria-expanded")||!1);n.classList.add("out"),n.classList.remove("expanded"),this.setAttribute("aria-expanded",t)})}},printPage:function(){const e=document.getElementById("btnPrint");e&&e.addEventListener("click",e=>{e.preventDefault(),window.print()})},imgZoom:function(){const e=document.querySelectorAll("[data-zoom-trigger]");0<e.length&&e.forEach(function(n){let l=n.nextElementSibling,a=l.querySelector("[data-zoom-target]"),s=l.querySelector(".closeIcon");if(void 0!==l.dataset.zoomContainer){s.addEventListener("click",function(e){l.setAttribute("aria-hidden","true"),document.body.style.overflow=null}),n.addEventListener("click",function(e){l.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden"});let e=document.querySelector("[data-zoom-in]"),t=document.querySelector("[data-zoom-out]");n=Panzoom(a,{contain:"outside",startScale:1.25,maxScale:2,panOnlyWhenZoomed:!1});e.addEventListener("click",n.zoomIn),t.addEventListener("click",n.zoomOut)}})}};